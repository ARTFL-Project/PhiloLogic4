<div id="concordanceKwic-container" ng-controller="concordanceKwicCtrl">
    <div class="panel panel-default">
        <div id="initial_report">
            <div id="description" ng-if="typeof(results) != 'undefined'" class="velocity-opposites-transition-fadeIn">
                <button type="button" id="export-results" class="btn btn-default btn-xs pull-right" data-toggle="modal" data-target="#export-dialog">
                        Export results
                </button>
                <div id="search_arguments">
                    Searching database for <b>{{ ::formData.q }}</b><br>
                    <biblio-criteria></biblio-criteria>
                </div>
                <div id="search-hits" ng-if="results.description">
                    <span ng-if="results.results_length !== 0 && results.description.end < results.description.results_per_page || results.description.end < results.results_length">
                        Hits {{ results.description.start }} - {{ results.description.end }} of {{ results.results_length || results.description.results_per_page }}
                    </span>
                    <span ng-if="results.results_length !== 0 && results.description.end >= results.results_length">
                        Hits {{ results.description.start }} - {{ results.results_length || results.description.end }} of {{ results.results_length || results.description.results_per_page }}
                    </span>
                    <span ng-if="results.results_length === 0">
                        No results for your query.
                    </span>
                </div>
            </div>
            <div class="row hidden-xs" id="act-on-report">
                <div class="col-sm-7 col-lg-6">
                    <div id="report_switch" class="btn-group" ng-controller="concordanceKwicSwitcher">
                        <span ng-if="report === 'concordance'">
                            <button type="button" class="btn btn-primary active" id="concordance-switch" ng-click="switchTo('concordance')">
                                <span class="hidden-xs hidden-sm">View occurrences with context</span>
                                <span class="visible-xs visible-sm">Concordance</span>
                            </button>
                            <button type="button" class="btn btn-primary" id="kwic-switch" ng-click="switchTo('kwic')">
                                <span class="hidden-xs hidden-sm">View occurrences line by line (KWIC)</span>
                                <span class="visible-xs visible-sm">Keyword in context</span>
                            </button>
                        </span>
                        <span ng-if="report === 'kwic'">
                            <button type="button" class="btn btn-primary" id="concordance-switch" ng-click="switchTo('concordance')">
                                <span class="hidden-xs hidden-sm">View occurrences with context</span>
                                <span class="visible-xs visible-sm">Concordance</span>
                            </button>
                            <button type="button" class="btn btn-primary active" id="kwic-switch" ng-click="switchTo('kwic')">
                                <span class="hidden-xs hidden-sm">View occurrences line by line (KWIC)</span>
                                <span class="visible-xs visible-sm">Keyword in context</span>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col-sm-5 col-lg-4 col-lg-offset-2" id="right-act-on-report" ng-if="philoConfig.facets.length > 1" ng-include="'templates/sidebarMenu.html'" ng-controller="facets"></div>
            </div>
        </div>
        <div class="row">
            <div id="results_container" class="col-xs-12 {{ resultsContainerWidth }}" ng-if="report === 'concordance'" ng-include="'templates/concordance.html'"></div>
            <div id="results_container" class="col-xs-12 {{ resultsContainerWidth }}" ng-if="report === 'kwic'" ng-include="'templates/kwic.html'"></div>
            <div id="results_container" class="col-xs-12 {{ resultsContainerWidth }}" ng-if="report === 'bibliography'" ng-include="'templates/bibliography.html'"></div>
            <div class="{{ sidebarWidth }} hidden-xs" id="sidebar" ng-if="frequencyResults.length > 0" ng-include="'templates/frequencySidebar.html'"></div>
        </div>
    </div>
    <div class="more" ng-if="results.results.length > 0">
        <pages></pages>
        <div style='clear:both;'></div>
    </div>
</div>